import{u as e,r as s,j as t}from"./index-K_8xjhhP.js";import{b as a,a as o}from"./url-C_mbKHcu.js";import{X as c}from"./index-DZ2c6SvW.js";import{e as r,E as l,P as d}from"./index-BB06Y6d2.js";const n="category__pPNI2",i=()=>{const[d,i]=e(),f=s.useRef(!0),[u,m]=s.useState([]),x=d.get("category");s.useEffect((()=>{a.get(o.getCategory).then((e=>{m(e.data.data)}))}),[]),s.useEffect((()=>{f.current&&u.length>0&&(f.current=!1,i({category:u[0].code}))}),[u,i]);const g=s.useCallback((e=>{i({category:e.code}),r.emit(l.PostListRefresh)}),[i]);return t.jsx("div",{className:`${n} p-4 whitespace-nowrap overflow-auto`,children:u.map((e=>t.jsx(c,{className:`rounded-full text-lg ${e.code===x&&"font-bold"}`,active:e.code===x,onClick:()=>g(e),children:e.name},e.code)))})},f=()=>{const e=s.useCallback((async()=>(await a.post(o.getPostList)).data.data),[]);return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx(i,{}),t.jsx("div",{className:"grow h-0",children:t.jsx(d,{fetchPostList:e})})]})};export{f as default};
